<!DOCTYPE html>

<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">

        <!-- http://getbootstrap.com/docs/5.1/ -->
        <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
        <script crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"></script>        <link href="/static/styles.css" rel="stylesheet">
        <!--shoelaces-->
        <link
        rel="stylesheet"
        media="(prefers-color-scheme:light)"
        href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.83/dist/themes/light.css"
        />
        <link
        rel="stylesheet"
        media="(prefers-color-scheme:dark)"
        href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.83/dist/themes/dark.css"
        onload="document.documentElement.classList.add('sl-theme-dark');"
        />
        <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.83/dist/shoelace.js"></script>
        <title>game: {% block title %}{% endblock %}</title>

    </head>

    <body>
        {% if get_flashed_messages() %}
            <sl-alert open>
              <sl-icon slot="icon" name="info-circle"></sl-icon>
              {{ get_flashed_messages() | join(" ") }}
            </sl-alert>
        {% endif %}
        <sl-tab-group activation="manual">
            {% if session["user_id"] %}
            <sl-tab slot="nav" panel="general">General</sl-tab>
            <sl-tab-panel name="general">This is the general tab panel.</sl-tab-panel>
            {% else %}
            <sl-tab slot="nav" panel="login">login</sl-tab>
            <sl-tab slot="nav" panel="register">register</sl-tab> 
            <sl-tab-panel name="login" >
              <form class="input-validation-required" action="/login" method="post">
                <sl-input name='username'  required  label="username" help-text="What would you like people to call you?"></sl-input>
                <br />
                <sl-input name='password' required type="password" placeholder="Password" size="medium" password-toggle></sl-input>
                <br />
                <sl-button type="submit" variant="primary">Submit</sl-button>
              </form>
            </sl-tab-panel>
            <sl-tab-panel name="register">
              <form class="input-validation-required" action="/register" method="post">
                <sl-input name='username'  required  label="username" help-text="What would you like people to call you?"></sl-input>
                <br />
                <sl-input name='password' required type="password" placeholder="Password" size="medium" password-toggle></sl-input>
                <br />
                <sl-input name="confirmation" required type="password" placeholder="confirm Password" size="medium" password-toggle></sl-input>
                <br />
                <sl-button type="submit" variant="primary">Submit</sl-button>
              </form>
            </sl-tab-panel> 
            {% endif %}
        </sl-tab-group>
      <main >
        {% block main %}{% endblock %}
      </main>
    </body>
</html>